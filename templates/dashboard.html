<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <title>Tableau de bord</title>
    <style>
      body {
        margin: 0;
        padding: 0;
        font-family: Arial, sans-serif;
        background-image: url("{{ url_for('static', filename='background/le_back_du_back.png') }}");
        background-size: cover;
        background-position: center;
        background-attachment: fixed;
        background-repeat: no-repeat;
      }

      header {
        background-color: rgba(111, 45, 189, 0.95);
        padding: 8px 25px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        height: 70px;
        position: sticky;
        top: 0;
        z-index: 10;
      }

      header img.logo-ulaval {
        height: 58px;
        max-height: 100px;
        transition: transform 0.3s ease-in-out;
      }

      header img.logo-ulaval:hover {
        transform: scale(1.05);
      }

      .nav-right {
        display: flex;
        align-items: center;
        gap: 20px;
      }

      .nav-right img.profile-pic {
        width: 34px;
        height: 34px;
        border-radius: 50%;
        object-fit: cover;
        border: 2px solid white;
      }

      .nav-right .nav-link {
        background-color: white;
        color: #6f2dbd;
        font-weight: bold;
        padding: 6px 14px;
        border-radius: 8px;
        text-decoration: none;
        font-size: 0.9em;
        box-shadow: 0 3px 8px rgba(0, 0, 0, 0.15);
        transition: background-color 0.2s ease, color 0.2s ease;
      }

      .nav-right .nav-link:hover {
        background-color: #d8b4f8;
        color: #4a0072;
      }

      .main-container {
        max-width: 800px;
        margin: 60px auto 30px;
        text-align: center;
        padding: 30px;
      }

      .action-buttons {
        display: flex;
        justify-content: center;
        gap: 20px;
        margin-top: 30px;
        flex-wrap: wrap;
      }

      .action-buttons a {
        padding: 20px 30px;
        border-radius: 12px;
        font-weight: bold;
        text-decoration: none;
        color: white;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 8px;
        min-width: 160px;
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2);
        transition: transform 0.2s ease-in-out;
      }

      .action-buttons a:hover {
        transform: translateY(-5px);
      }

      .pub-btn {
        background-color: #9d6bff;
      }

      .util-btn {
        background-color: #B9FAF8; /* violet */
        color: white;
      }

      .livres-btn {
        background-color: #a663cc;
      }

      .rdv-btn {
        background-color: #a663cc;
      }

      .signal-btn {
        background-color: #d8b4f8;;
      }

      .historique-btn {
        background-color: #B8D0EB;
      }

      .floating-text {
        margin: 40px auto;
        max-width: 700px;
        font-size: 18px;
        color: white;
        text-align: center;
        font-weight: 500;
        background-color: rgba(0, 0, 0, 0.25);
        padding: 20px 25px;
        border-radius: 12px;
        animation: typing 6s steps(70, end), blink-caret 0.75s step-end infinite;
        border-right: 2px solid white;
        overflow: hidden;
        white-space: nowrap;
      }

      @keyframes typing {
        from {
          width: 0;
        }
        to {
          width: 100%;
        }
      }

      @keyframes blink-caret {
        from,
        to {
          border-color: transparent;
        }
        50% {
          border-color: white;
        }
      }
    </style>
  </head>
  <body>
    <!-- Header avec logo ULaval -->
    <header>
      <img
        src="{{ url_for('static', filename='background/logo de ulaval.png') }}"
        alt="Universit√© Laval"
        class="logo-ulaval"
      />

      <div class="nav-right">
        <a href="{{ url_for('profile') }}" title="Profil">
          <img src="{{ url_for('static', filename=(user['photo_de_profil'] if user and user['photo_de_profil'] else 'user-icon.png')) }}"
               alt="Profil" style="width: 35px; height: 35px; border-radius: 50%;">
        </a>
        <a href="{{ url_for('logout') }}" class="nav-link">Se d√©connecter</a>
      </div>
    </header>

    <!-- Contenu principal -->
    <div class="main-container">
      <h2>Bienvenue {{ session['prenom'] }} {{ session['nom'] }} üëã</h2>
      <p>Tu es connect√©(e) avec l'adresse : <strong>{{ session['email'] }}</strong></p>
      <p>Ravie de te revoir sur le forum bien-√™tre ULaval üåø</p>

      <hr style="margin: 30px 0" />

      <div class="action-buttons">
        <a href="{{ url_for('publications') }}" class="pub-btn">üìù Publications</a>
        <a href="{{ url_for('chercher_utilisateurs') }}" class="util-btn">üë• Utilisateurs</a>
        <a href="{{ url_for('livres') }}" class="livres-btn">üìö Livres</a>
        <a href="{{ url_for('conseillers') }}" class="rdv-btn">ü§ù Rendez-vous</a>
        <a href="{{ url_for('profile') }}" class="pub-btn">Mon Profil</a>

        {% if session['role'] == 'conseiller' %}
        <a href="{{ url_for('ajouter_indisponibilite') }}" class="rdv-btn">üïê Mes indisponibilit√©s</a>
        <a href="{{ url_for('mes_rendez_vous') }}" class="livres-btn">üìÜ Mes rendez-vous</a>
        {% elif session['role'] == 'moderateur' %}
        <a href="{{ url_for('moderation') }}" class="signal-btn">signalement</a>
        <a href="{{ url_for('historique_signalements') }}" class="historique-btn">üìú Historique des signalements</a>
        {% endif %}

        {% if session['role'] == 'admin' %}
        {% endif %}
      </div>
    </div>

    <!-- Texte flottant -->
    <div class="floating-text">
      Votre bien-√™tre mental est notre priorit√©. Ici, vous √™tes √©cout√©, accompagn√© et soutenu. üå∏
    </div>
  </body>
</html>
